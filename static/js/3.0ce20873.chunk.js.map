{"version":3,"sources":["HOC/withAuthRedirect.js","components/assets/images/userPhoto.png","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInformation/ProfileInformation.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInformation/ProfileStatusWithHooks.jsx","components/Profile/ProfileInformation/ProfileInformation.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsContainer","state","isAuth","auth","withAuthRedirect","Component","AuthRedirect","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","ProfileStatusWhuthHook","useState","editMode","setEditMode","userStatus","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateUserStatus","onChange","e","currentTarget","ProfileInformation","profile","className","style","user__profile","user__photo","src","photos","large","userPhoto","alt","user__description","user__name","user__description__item","Preloader","Post","s","item","massege","likeCounter","window","MyPosts","memo","console","log","postsElements","posts","reverse","map","p","PostReduxForm","onSubmit","values","addPost","postBody","maxLength50","maxLengthCreator","minLength8","minLengthCreator","reduxForm","form","handleSubmit","Field","placeholder","component","TextArea","name","validate","required","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","main","ProfileContainer","userId","match","params","meUserId","getUserProfile","getUserStatus","compose","idUser","setUserProfile","withRouter"],"mappings":"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","file":"static/js/3.0ce20873.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsContainer = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class AuthRedirect extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConectRedirectAuthComponent = connect(mapStateToPropsContainer)(AuthRedirect);\r\n    return ConectRedirectAuthComponent;\r\n}\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/userPhoto.9a019080.png\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main__screen\":\"ProfileInformation_main__screen__35ES8\",\"user__profile\":\"ProfileInformation_user__profile__3Qo5P\",\"user__avatar\":\"ProfileInformation_user__avatar__1mWqa\",\"user__description\":\"ProfileInformation_user__description__cz-HU\",\"user__description__item\":\"ProfileInformation_user__description__item__30Dio\",\"user__name\":\"ProfileInformation_user__name__15lfO\",\"user__photo\":\"ProfileInformation_user__photo__28fmy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2AOA8\"};","import React, {useState, useEffect} from \"react\";\r\n\r\n\r\n const ProfileStatusWhuthHook = (props) => {\r\n\r\nlet [editMode, setEditMode] = useState(false)\r\nlet [status, setStatus] = useState(props.userStatus)\r\n\r\n     useEffect(() => {\r\n         setStatus(props.userStatus)\r\n     }, [props.userStatus])\r\n\r\n\r\n     let activeteEditMode = () => {\r\n         setEditMode(true)\r\n     }\r\n\r\n     let deactiveteEditMode = () => {\r\n         setEditMode(false)\r\n         props.updateUserStatus(status)\r\n     }\r\n\r\n     let onCangeUserStatus = (e) => {\r\n         setStatus(e.currentTarget.value)\r\n     }\r\n\r\n        return (<div>\r\n                {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activeteEditMode}>{props.userStatus || \"Введите свой статус!\"}</span>\r\n                </div>\r\n                }\r\n                {editMode &&\r\n                <div>\r\n                    <input autoFocus={true}\r\n                           onBlur={deactiveteEditMode}\r\n                           value={status}\r\n                           onChange={onCangeUserStatus}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n\r\n}\r\n\r\nexport default ProfileStatusWhuthHook;","import React from 'react';\r\nimport style from './ProfileInformation.module.css';\r\nimport Preloader from \"../../ItemsControl/Prealoader/Preloader\";\r\nimport ProfileStatusWhuthHook from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../assets/images/userPhoto.png\"\r\n\r\n\r\nconst ProfileInformation = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (<div>\r\n            <ProfileStatusWhuthHook\r\n                userStatus={props.userStatus}\r\n                updateUserStatus={props.updateUserStatus}/>\r\n            {/*<img className={style.main__screen} alt='Главное изображение' src='https://gran-tur.com/assets/image/Blog/%D0%A2%D1%83%D1%80%D1%86%D0%B8%D1%8F/%D0%9F%D0%BB%D1%8F%D0%B6%D0%B8%20%D0%A2%D1%83%D1%80%D1%86%D0%B8%D0%B8/plyaz%20kliopatry.jpg' />*/}\r\n            <div className={style.user__profile}>\r\n                <img className={style.user__photo} src={props.profile.photos.large ? props.profile.photos.large : userPhoto } alt={\"\"}/>\r\n                <div className={style.user__description}>\r\n                    <div className={style.user__name}>Иванов И.И</div>\r\n                    <span className={style.user__description__item}>День рождения: 2 июня</span>\r\n                    <span className={style.user__description__item}>Город: Москва</span>\r\n                    <span className={style.user__description__item}>Образование: 11 кл</span>\r\n                    <span className={style.user__description__item}>Web cite: Google.com</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileInformation;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (<div className ={s.item}>\r\n    <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRuJ1_ed4wE8cGxLfOcW-SaUVG5F8AaETC3CpOHf6HSbPLzY9Xs\" alt=\"\" />\r\n  <div>{props.massege}</div>\r\n  <span>Like {props.likeCounter}</span>\r\n  </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../../Utilits/Validators\";\r\nimport {TextArea} from \"../../ItemsControl/FormControl/FormControls\";\r\n\r\nwindow.props=[];\r\n\r\nconst MyPosts = React.memo(props => {\r\n    console.log(\"RENDER\");\r\n    window.props.push(props);\r\n\r\n    let postsElements = [...props.posts].reverse().map(p => <Post massege={p.massege} likeCounter={p.likeCounter}/>)\r\n\r\n    let addPost = (values) => {\r\n        props.addPost(values.postBody)\r\n    }\r\n    return (<div>\r\n            <PostReduxForm onSubmit={addPost}/>\r\n            {postsElements}\r\n        </div>\r\n    )\r\n});\r\n\r\n//обьявляем валидаторы\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst minLength8 = minLengthCreator(8)\r\n\r\n\r\n//Создание формы с помощью redux-form\r\nconst PostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"add new post\"} component={TextArea} name={\"postBody\"}\r\n                       validate={[required, maxLength50, minLength8]}></Field>\r\n            </div>\r\n            <div>\r\n                <button>Add Post</button>\r\n            </div>\r\n            <div>\r\n                <button>Remove</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst PostReduxForm = reduxForm({form: \"postForm\"})(PostForm)\r\n\r\nexport default MyPosts;","import {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (postBody) => dispatch(addPostActionCreator(postBody))\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInformation from './ProfileInformation/ProfileInformation';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <main className={s.main}>\r\n            <ProfileInformation\r\n                profile={props.profile}\r\n                userStatus={props.userStatus}\r\n                updateUserStatus={props.updateUserStatus}/>\r\n            <MyPostsContainer/>\r\n        </main>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, setUserProfile, updateUserStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.meUserId;}\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     updateUserStatus={this.props.updateUserStatus}\r\n                     userStatus={this.props.userStatus} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    userStatus: state.profilePage.userStatus,\r\n    meUserId: state.auth.idUser\r\n\r\n\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {setUserProfile, getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n"],"sourceRoot":""}