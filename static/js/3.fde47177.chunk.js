(this["webpackJsonpfirst-project"]=this["webpackJsonpfirst-project"]||[]).push([[3],{288:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(50),r=n(51),o=n(53),l=n(52),u=n(54),s=n(0),c=n.n(s),i=n(28),m=n(20),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(u.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(i.a,{to:"/login"})}}]),n}(c.a.Component);return Object(m.b)(p)(t)}},289:function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return a}))},291:function(e,t,n){e.exports=n.p+"static/media/userPhoto.9a019080.png"},292:function(e,t,n){e.exports={user__photo:"ProfileInfo_user__photo__uZp3x",contacts:"ProfileInfo_contacts__2UbDl"}},296:function(e,t,n){},297:function(e,t,n){e.exports={item:"Post_item__2yS3T"}},298:function(e,t,n){"use strict";n.r(t);var a=n(50),r=n(51),o=n(53),l=n(52),u=n(54),s=n(0),c=n.n(s),i=n(296),m=n.n(i),p=n(289),f=n(292),b=n.n(f),d=n(135),E=function(e){var t=Object(s.useState)(!1),n=Object(p.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(e.userStatus),l=Object(p.a)(o,2),u=l[0],i=l[1];Object(s.useEffect)((function(){i(e.userStatus)}),[e.userStatus]);return c.a.createElement("div",null,!a&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.userStatus||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441!")),a&&c.a.createElement("div",null,c.a.createElement("input",{autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(u)},value:u,onChange:function(e){i(e.currentTarget.value)}})))},h=n(291),v=n.n(h),O=function(e){var t=e.contactTitle,n=e.contactValue;return c.a.createElement("div",null,c.a.createElement("b",null,t),": ",n)},g=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return c.a.createElement("div",null,n&&c.a.createElement("button",{onClick:a},"Edit"),c.a.createElement("div",null,c.a.createElement("b",null,"Full Name"),": ",t.fullName),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&c.a.createElement("div",null,c.a.createElement("b",null,"My professional skills"),": ",t.lookingForAJobDescription),c.a.createElement("div",null,c.a.createElement("b",null,"About me"),": ",t.aboutMe),c.a.createElement("div",{className:b.a.contacts},c.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return c.a.createElement(O,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},j=n(32),S=n(125),y=n(38),k=n.n(y),P=Object(S.a)({form:"profileEdit"})((function(e){var t=e.profile,n=e.handleSubmit,a=e.error;return c.a.createElement("form",{onSubmit:n},c.a.createElement("button",null,"Save change"),a&&c.a.createElement("div",{className:k.a.loginControlError},a),c.a.createElement("div",null,c.a.createElement("b",null,"Full Name"),": ",Object(j.c)(j.a,"fullName","Full Name",[])),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job"),": ",Object(j.c)("input","lookingForAJob",null,[],{type:"checkbox"})),c.a.createElement("div",null,c.a.createElement("b",null,"My professional skills"),": ",Object(j.c)(j.b,"lookingForAJobDescription","My professional skills",[])),c.a.createElement("div",null,c.a.createElement("b",null,"About me"),": ",Object(j.c)(j.b,"aboutMe","About me",[])),c.a.createElement("div",{className:b.a.contacts},c.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("b",null,e),": ",Object(j.c)(j.a,"contacts."+e,e,[]))}))))})),U=function(e){var t=e.profile,n=e.savePhoto,a=e.userStatus,r=e.updateUserStatus,o=e.isOwner,l=e.saveProfile,u=Object(s.useState)(!1),i=Object(p.a)(u,2),m=i[0],f=i[1];if(!t)return c.a.createElement(d.a,null);return c.a.createElement("div",null,"Status: ",c.a.createElement(E,{userStatus:a,updateUserStatus:r}),c.a.createElement("div",null,c.a.createElement("img",{className:b.a.user__photo,src:t.photos.large?t.photos.large:v.a,alt:""}),o&&c.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}}),m?c.a.createElement(P,{profile:t,onSubmit:function(e){l(e).then((function(){f(!1)}))},initialValues:t}):c.a.createElement(g,{profile:t,isOwner:o,goToEditMode:function(){return f(!0)}})))},A=n(92),w=n(36),_=n(297),C=n.n(_),N=function(e){return c.a.createElement("div",{className:C.a.item},c.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRuJ1_ed4wE8cGxLfOcW-SaUVG5F8AaETC3CpOHf6HSbPLzY9Xs",alt:""}),c.a.createElement("div",null,e.massege),c.a.createElement("span",null,"Like ",e.likeCounter))},F=n(87),I=n(37);window.props=[];var J=c.a.memo((function(e){console.log("RENDER"),window.props.push(e);var t=Object(w.a)(e.posts).reverse().map((function(e){return c.a.createElement(N,{key:e.id,massege:e.massege,likeCounter:e.likeCounter})}));return c.a.createElement("div",null,c.a.createElement(x,{onSubmit:function(t){e.addPost(t.postBody)}}),t)})),M=Object(I.a)(50),T=Object(I.b)(8),x=Object(S.a)({form:"postForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement(F.a,{placeholder:"add new post",component:j.b,name:"postBody",validate:[I.c,M,T]})),c.a.createElement("div",null,c.a.createElement("button",null,"Add Post")))})),D=J,L=n(20),V=Object(L.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){return e(Object(A.a)(t))}}}))(D),B=function(e){return c.a.createElement("main",{className:m.a.main},c.a.createElement(U,{profile:e.profile,userStatus:e.userStatus,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),c.a.createElement(V,null))},G=n(28),R=n(288),H=n(8),q=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.meUserId),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(B,Object.assign({},this.props,{profile:this.props.profile,updateUserStatus:this.props.updateUserStatus,userStatus:this.props.userStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(c.a.Component);t.default=Object(H.d)(Object(L.b)((function(e){return{profile:e.profilePage.profile,userStatus:e.profilePage.userStatus,meUserId:e.auth.idUser}}),{setUserProfile:A.g,getUserProfile:A.c,getUserStatus:A.d,updateUserStatus:A.h,savePhoto:A.e,saveProfile:A.f}),G.g,R.a)(q)}}]);
//# sourceMappingURL=3.fde47177.chunk.js.map